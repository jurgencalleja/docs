---
title: 	REFUND API Operation
position_number: 7
type: post
description: Refund request
 
parameters:
  - name: result
    Datatype: String(40)
    Description: Will always be “success” if processed and "failure" if error
  - name: merchantId
    Datatype: Integer(18)
    Description: The merchantId value sent in the Session Token Request 
  - name: action
    Datatype: String (enum)
    Description: Will always be “REFUND”
  - name: merchantTxId
    Datatype: String (50)
    Description: Transaction identifier or Order ID in merchant system. Generated by the IPG Gateway, if not received in the Session Token Request 
  - name: originalMerchantTxId
    Datatype: String (50)
    Description: The merchant transaction identifier of the transaction that was refunded
  - name: originalTxId
    Datatype: Integer (18)
    Description: The IPG Gateway transaction Id of the transaction refunded sent in the Session Token Request (section 1.1)
  - name: txId
    Datatype: Integer (18)
    Description: The unique identifier for the refund transaction in the IPG Gateway
  - name: amount
    Datatype: BigDecimal (15.2 or 15.3)
    Description: The transaction amount refunded sent in the Session Token Request (section 1.1)
  - name: currency
    Datatype: String (enum)
    Description: The transaction ISO alpha-3 currency code, as defined in the ISO 4217 standard, used in the original and refund transactions
  - name: customerId
    Datatype: String (20)
    Description: The IPG Gateway customer identifier used in the original and refund transactions
  - name: pan
    Datatype: String (100)
    Description: The customer account value/number used in the original and the refund transactions.  For payment card transactions this is the IPG Gateway Card Token.
  - name: brandId
    Datatype: Integer(18)
    Description: The brandId value for the original and the refund transaction
  - name: paymentSolutionId
    Datatype: Integer(18)
    Description: The paymentSolutionId value used in the original and refund transactions
  - name: Status
    Datatype: String(enum)
    Description: The status of the transaction in IPG Gateway -
#Status	Condition
#SET_FOR_REFUND	If “REFUND” successful
#ERROR	If an error was returned by the payment process
  - name: errors
    Datatype: String(400)
    Description: Any errors that occurred during the successful processing of a transaction
  - name: resultId
    Datatype: String(40)
    Description: Hexadecimal string that is to be used in any support request calls
  - name: processingTime
    Datatype: Integer (18)
    Description: The time in seconds for the process to complete
  - name: additionalDetails
    Datatype: Array
    Description: Not used – will always be “{}” or not included




left_code_blocks:
  - code_block: |-
      $ .post("https://apiuat.test.boipapaymentgateway.com/token?"> {
      Customer ID:hptest, Brand ID:897774000/, channel:ECOM, currency:GBP, country:GB, merchantId:897774, action:PURCHASE, amount:5, password:u16q9rZ02bW0jqTjxH8t, allowOriginUrl:*, timestamp:timestamp, paymentSolutionId:500, merchantNotificationUrl:https://ptsv2.com/t/v4w7q-1558948751/post, merchantLandingPageUrl:https://ptsv2.com/t/v4w7q-1558948751/post, forceSecurePayment:false, language:en, postCode (CIP):123456
      };
    title: jQuery
    language: javascript
right_code_blocks:
  - code_block: |2-
      {
         "amount": "163",
         "resultId": "4fd9f223-bb1a-4879-a6e6-81a10b53bdca",       "originalMerchantTxId": "Yn5ufTMdNXwe9bYyrNay",
         "txId": "11622786",
         "additionalDetails": {},
         "processingTime": 948,
         "result": "success",
         "merchantId": "167738",
         "brandId": "1677380000",
         "merchantTxId": "lCLe3ImCEPKObYFMdD35",
         "customerId": "zw72ejcNN1OL1Vy2zlnw",
         "action": "REFUND",
         "paymentSolutionId": "500",
         "currency": "USD",
         "pan": "8746507628231111",
         "originalTxId": "11622153",
         "status": "SET_FOR_REFUND"

      }
    title: Response
    language: json
  - code_block: |2-
      {
            "result": "failure",
            "resultId": "308802f2-224d-44f5-b256-8d9443a72770",
            "additionalDetails": {},
            "errors": [
                { "messageCode": "This field is required in [TOKEN]", "fieldName": "amount" }
            ],
            "processingTime": 173

      }
    title: Error
    language: json
---